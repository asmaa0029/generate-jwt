(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{125:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},139:function(e,t,a){e.exports=a(316)},144:function(e,t,a){},145:function(e,t,a){},316:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(19),o=a.n(i),s=(a(144),a(125)),l=a.n(s);a(145);var c=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("img",{src:l.a,className:"App-logo",alt:"logo"}),r.a.createElement("p",null,"Edit ",r.a.createElement("code",null,"src/App.js")," and save to reload."),r.a.createElement("a",{className:"App-link",href:"https://reactjs.org",target:"_blank",rel:"noopener noreferrer"},"Learn React")))},u=a(26),d=a(64),p=a(25),f=a(35),h=a(36),m=a(38),g=a(37),b=a(63),y=a(39),v=a(34),E=a.n(v),w=a(20),x=a.n(w),C=a(18),S=a.n(C),j=a(27),k=a.n(j),O=a(83),D=a.n(O),P=a(16),B=a.n(P),F=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(m.a)(this,Object(g.a)(t).call(this,e))).changeUser=function(e){a.setState({user:e.target.value})},a.changePassword=function(e){a.setState({password:e.target.value})},a.changeVisibility=function(){a.setState({visible_password:!a.state.visible_password})},a.login=function(e){document.getElementById("erreur").innerHTML="";var t=Object(b.a)(a);e.preventDefault(),fetch("/salhi_security/Controller/Login.php",{method:"POST",mode:"cors",headers:{"Access-Control-Allow-Methods":"POST","Content-type":"application/x-www-form-urlencoded","Access-Control-Allow-Origin":"*"},body:"user="+t.state.user+"&password="+t.state.password}).then(function(e){return 401===e.status?(alert("unauthorized"),t.setState({message:"Identifiants \xe9ronn\xe9s"}),!1):e.text().then(function(e){t.setState({message:"Ok",jwt:e,logged:!0},sessionStorage.setItem("jwt",e))})}).catch(function(e){t.setState({message:"Probl\xe8me lors de la tentative d'acc\xe8s au serveur !"+e})})},a.confirm=function(e){13===e.which&&document.getElementById("boutLog").click()},a.handleChange=function(e){a.setState({selectedMag:e.target.value})},a.state={user:"",password:"",visible_password:!1,message:"",role:"",logged:!1,jwt:{}},a}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;if(this.state.logged)return r.a.createElement(u.a,{push:!0,to:"/Products"});var t=this.state.visible_password?"text":"password",a=this.state.visible_password?"visibility_off":"visibility";return r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(E.a,{elevation:1,style:{width:"50%",marginTop:"50px"}},r.a.createElement(x.a,{variant:"headline",color:"secondary",style:{paddingLeft:"30%",justifyContent:"center",backgroundColor:"#ddd"}},"Connexion Salhi"),r.a.createElement("form",{onSubmit:this.login,id:"connexion",method:"POST",action:"/Sondabaz/Controller/login.php",style:{display:"flex",flexFlow:"wrap column",justifyContent:"space-around"}},r.a.createElement(S.a,{id:"user",label:"Utilisateur",value:this.state.user,onChange:this.changeUser,InputProps:{startAdornment:r.a.createElement(D.a,{position:"end"},r.a.createElement(B.a,{style:{float:"right",marginRight:"25px",marginLeft:"5px"},onClick:this.changeVisibility},"account_circle"))}}),r.a.createElement(S.a,{id:"password",label:"Mot de passe",type:t,value:this.state.password,onChange:this.changePassword,onKeyPress:this.confirm,InputProps:{startAdornment:r.a.createElement(D.a,{position:"end"},r.a.createElement(B.a,{style:{float:"right",marginRight:"25px",marginLeft:"5px"},onClick:this.changeVisibility}," ",a," "))}}),r.a.createElement("h3",{id:"erreur"}),r.a.createElement(k.a,{id:"boutLog",variant:"contained",color:"primary",style:{width:"40%",margin:"30px 30px 30px 30px",float:"right"},onClick:function(t){return e.login(t)}},"Se connecter ",r.a.createElement(B.a,null,"add_to_home_screen")),r.a.createElement(x.a,{variant:"title",color:"error",id:"message"}," ",this.state.message," "))))}}]),t}(r.a.Component),_=a(52),A=a(79),L=a.n(A),N=a(81),T=a.n(N),I=a(80),M=a.n(I),R=a(33),q=a(5),z=a.n(q),W=a(134),J=a.n(W),U=a(135),V=a.n(U),H=a(24),X=a.n(H),Y=a(128),$=a.n(Y),K=a(137),G=a.n(K),Q=a(65),Z=a.n(Q),ee=a(129),te=a.n(ee),ae=a(78),ne=a.n(ae),re=a(130),ie=a.n(re),oe=a(133),se=a.n(oe),le=a(131),ce=a.n(le),ue=a(84),de=a.n(ue),pe=a(48),fe=a.n(pe),he=a(66),me=a.n(he),ge=a(132),be=a.n(ge),ye=a(85),ve=a.n(ye),Ee=a(136),we=a.n(Ee),xe=a(46);function Ce(e,t){if("string"===typeof t)return"desc"===e?function(e,a){return a[t]<e[t]?-1:1}:function(e,a){return e[t]<a[t]?-1:1}}var Se=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).createSortHandler=function(e){return function(t){a.props.onRequestSort(t,e)}},a}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.onSelectAllClick,n=t.order,i=t.orderBy,o=t.numSelected,s=t.rowCount,l=t.checkb,c=t.labels,u=t.classes;return r.a.createElement($.a,{className:u.head},r.a.createElement(Z.a,null,!!l&&r.a.createElement(X.a,{padding:"checkbox"},r.a.createElement(de.a,{indeterminate:o>0&&o<s,checked:o===s,onChange:a})),c.map(function(t,a){if(!e.props.invisibles.includes(t))return r.a.createElement(X.a,{className:u.head,key:"col".concat(t),sortDirection:i===t&&n},"undefined"!==typeof e.props.icons&&r.a.createElement(B.a,null,e.props.icons[a]),r.a.createElement(me.a,{title:"Trier",enterDelay:300},r.a.createElement(te.a,{active:i===e.props.cols[a],direction:n,onClick:e.createSortHandler(t)},t)))},this),!!this.props.examine&&this.props.examine.map(function(e){return r.a.createElement(X.a,{className:u.head},e.label)})))}}]),t}(r.a.Component);Se=Object(p.withStyles)(function(e){return{root:{paddingRight:e.spacing.unit},head:{fontSize:16,fontWeight:"bold",color:"white",backgroundColor:e.palette.primary.main}}})(Se);var je=function(e){var t=e.numSelected,a=e.examines,n=(e.fctLines,e.classes);return r.a.createElement(ne.a,{className:z()(n.root,Object(R.a)({},n.heading,t>0))},r.a.createElement("div",{className:n.title},t>0?r.a.createElement(x.a,{color:"inherit",variant:"subheading"},t," selectionn\xe9es"):r.a.createElement(x.a,{variant:"title",color:"primary",id:"tableTitle"},e.table)),r.a.createElement("div",{className:n.spacer}),r.a.createElement("div",{className:n.actions},t>0&&r.a.createElement("span",{key:"commandesTab",style:{width:"75px",display:"flex",alignContent:"row",justifyContent:"space-between"}},a.map(function(t,a){return r.a.createElement(me.a,{title:t.label},r.a.createElement(B.a,{color:"secondary",onClick:function(t){return e.fctLines(a,t)}},t.icon))})," ")))};je=Object(p.withStyles)(function(e){return{root:{paddingRight:e.spacing.unit},head:{color:e.palette.secondary.main,backgroundColor:Object(xe.lighten)(e.palette.primary.light,.85)},spacer:{flex:"1 1 100%"},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})(je);var ke=function(e){function t(e){var a;Object(f.a)(this,t),(a=Object(m.a)(this,Object(g.a)(t).call(this,e))).updateData=function(e){var t=a.state,n=(t.order,t.orderBy,t.selected,t.rowsPerPage,t.page,a.props.data.length>0?Object.keys(a.props.data[0])[0]:[]),r=e.map(function(e){return e[n]});return a.filtredData(a.props.data).map(function(t){return r.includes(t[n])?e.filter(function(e){return e[n]===t[n]})[0]:t})},a.reset=function(e){e.preventDefault(),a.resetFilter()},a.changeFilter=function(e,t,n){var r=a.state.filters;r[t][n]=e.target.value,a.setState({filters:r,data:a.updateData(a.state.changed)})},a.changeSet=function(e,t){var n=Object(_.a)({},a.state.filters);n[t].in=[e],a.setState({filters:n,data:a.updateData(a.state.changed)})},a.filtredData=function(e){return e.filter(function(e){var t=!0;return Object.keys(a.state.filters).map(function(n){a.state.filters[n].val&&!e[n].toLowerCase().includes(a.state.filters[n].val.toLowerCase())?t=!1:a.state.filters[n].in&&!a.state.filters[n].in.includes(e[n])?t=!1:a.state.filters[n].min&&e[n]<a.state.filters[n].min?t=!1:a.state.filters[n].max&&e[n]>a.state.filters[n].max?t=!1:a.state.filters[n].begin&&new Date(e[n]).getTime()<new Date(a.state.filters[n].begin).getTime()?t=!1:a.state.filters[n].end&&new Date(e[n]).getTime()>new Date(a.state.filters[n].end).getTime()&&(t=!1)}),t})},a.handleRange=function(e,t){var n=new Date(t.startDate._d.getFullYear()+"-"+parseInt(t.startDate._d.getMonth()+1)+"-"+t.startDate._d.getDate()),r=new Date(t.endDate._d.getFullYear()+"-"+parseInt(t.endDate._d.getMonth()+1)+"-"+t.endDate._d.getDate()),i=a.state.filters;i[e].begin=n,i[e].end=r;var o=a.props.data.filter(function(t){return new Date(t[e])>=n&&new Date(t[e])<=r});a.setState({filters:i,data:o})},a.resetFilter=function(e){e.preventDefault();var t="undefined"!==typeof a.props.filtre?Object.keys(a.props.filtre).reduce(function(e,t){return e[t]=new Object,e},{}):null;a.setState({filters:t,data:a.props.data})},a.handleRequestSort=function(e,t){if("undefined"!==typeof a.props.labels&&a.props.data.length>0){var n=a.props.labels.indexOf(t);t=Object.keys(a.props.data[0])[n]}var r=t,i="desc";a.state.orderBy===t&&"desc"===a.state.order&&(i="asc"),a.setState({order:i,orderBy:r})},a.handleSelectAllClick=function(e,t){if(t){var n=Object.keys(a.props.data[0])[0];a.setState(function(e,t){return{selected:t.data.map(function(e){return e[n]})}})}else a.setState({selected:[]})},a.handleClick=function(e,t){var n=a.state.selected,r=n.indexOf(t),i=[];-1===r?i=i.concat(n,t):0===r?i=i.concat(n.slice(1)):r===n.length-1?i=i.concat(n.slice(0,-1)):r>0&&(i=i.concat(n.slice(0,r),n.slice(r+1))),a.setState({selected:i})},a.handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState(function(t,n){return{rowsPerPage:Math.min(e.target.value,a.filtredData(n.data).length)}})},a.examineLine=function(e,t,n){Object.keys(a.props.data[0])[0];a.setState({selected:[]},a.props.examine[t].fct(e))},a.fctLines=function(e,t){var n=Object.keys(a.props.data[0])[0],r=a.state.data.filter(function(e){return a.state.selected.includes(e[n])});a.setState({selected:[]},a.props.examines[e].fct(r))},a.handleChange=function(e,t,n){var r=Object.keys(a.props.data[0])[0],i=a.state.changed.map(function(e){return e[r]}),o=Object(_.a)({},n),s=a.state.changed;o[t]=e.target.value,i.includes(o[r])?s.map(function(e){return e[r]===o[r]&&(e[t]=o[t])}):s.push(o),a.props.onChangeState?a.setState({changed:s,data:a.updateData(s)},a.props.onChangeState(a.updateData(s))):a.setState({changed:s,data:a.updateData(s)})},a.isSelected=function(e){return-1!==a.state.selected.indexOf(e)},a.inputFilter=function(e,t){var n,i,o=a.props.data.length>0?Object.keys(a.props.data[0]):[],s="undefined"!==typeof a.props.labels?a.props.labels.reduce(function(e,t,a){return e[o[a]]=t,e},new Object):o.reduce(function(e,t,a){return e[o[a]]=t,e},new Object),l="undefined"===typeof a.state.filters[t].begin?Date.now():a.state.filters[t].begin,c="undefined"===typeof a.state.filters[t].end?Date.now():a.state.filters[t].end;if("number"===e.substring(0,6)||"int"===e.substring(0,3)||"float"===e.substring(0,5))return r.a.createElement(fe.a,null,r.a.createElement("div",null,r.a.createElement(S.a,{required:!1,label:"Min ".concat(s[t]),value:"undefined"===typeof a.state.filters[t].min?"":a.state.filters[t].min,type:"number",onChange:function(e){return a.changeFilter(e,t,"min")}}),r.a.createElement(S.a,{required:!1,label:"Max ".concat(s[t]),value:"undefined"===typeof a.state.filters[t].max?"":a.state.filters[t].max,type:"number",onChange:function(e){return a.changeFilter(e,t,"max")}})));if("decimal"===e.substring(0,7)){var u=e.replace(/(decimal\()([0-9]+,)([0-9])(\))/,"$3");return u=1/Math.pow(10,parseInt(u)),r.a.createElement(fe.a,null,r.a.createElement("div",null,r.a.createElement(S.a,{step:u,required:!1,label:"Min ".concat(s[t]),value:"undefined"===typeof a.state.filters[t].min?"":a.state.filters[t].min,type:"number",onChange:function(e){return a.changeFilter(e,t,"min")}}),r.a.createElement(S.a,{step:u,required:!1,label:"Max ".concat(s[t]),value:"undefined"===typeof a.state.filters[t].max?"":a.state.filters[t].max,type:"number",onChange:function(e){return a.changeFilter(e,t,"max")}})))}return"time"===e.substring(0,8)?r.a.createElement(fe.a,null,r.a.createElement("div",null,r.a.createElement(S.a,(n={required:!1,type:"time",step:60,label:"Min ".concat(s[t]),value:"undefined"===typeof a.state.filters[t].begin?"":a.state.filters[t].begin},Object(R.a)(n,"type","datetime-local"),Object(R.a)(n,"onChange",function(e){return a.changeFilter(e,t,"min")}),n)),r.a.createElement(S.a,(i={required:!1,type:"time",step:60,label:"Max ".concat(s[t]),value:"undefined"===typeof a.state.filters[t].end?"":a.state.filters[t].end},Object(R.a)(i,"type","datetime-local"),Object(R.a)(i,"onChange",function(e){return a.changeFilter(e,t,"max")}),i)))):"date"===e.substring(0,4)?r.a.createElement("div",null,r.a.createElement(S.a,{type:"date",label:"D\xe9but ".concat(s[t]),value:l,onChange:function(e){return a.changeFilter(e,t,"begin")}}),r.a.createElement(S.a,{type:"date",label:"Fin ".concat(s[t]),value:c,onChange:function(e){return a.changeFilter(e,t,"end")}})):r.a.createElement(fe.a,null,r.a.createElement(S.a,{required:!1,label:"Filtre ".concat(s[t]),value:"undefined"===typeof a.state.filters[t].val?"":a.state.filters[t].val,onChange:function(e){return a.changeFilter(e,t,"val")}}))},a.sendLines=function(e,t){t.fct(a.state.data)},a.filterFocus=function(){document.getElementsByTagName("input")[0].focus()};e.classes;var n="undefined"!==typeof a.props.filtre?Object.keys(a.props.filtre).reduce(function(e,t){return e[t]=new Object,e},{}):{},i=a.props.data.length>0?Object.keys(e.data[0])[0]:null,o="undefined"===typeof a.props.rows?5:a.props.rows;e.data;return a.state={order:"asc",orderBy:i,selected:[],data:[],changed:[],page:0,rowsPerPage:o,filters:n},a}return Object(y.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.props.data.length>0&&Object.keys(this.props.data[0])[0];this.setState({data:this.props.data})}},{key:"getSnapshotBeforeUpdate",value:function(e,t){var a=this;t.orderBy===this.state.orderBy&&t.order===this.state.order&&t.filters===this.state.filters||this.setState(function(e){return{data:a.updateData(a.state.changed).sort(Ce(a.state.order,a.state.orderBy))}}),JSON.stringify(e.data)!==JSON.stringify(this.props.data)&&this.setState(function(e){return{data:a.updateData(a.state.changed).sort(Ce(a.state.order,a.state.orderBy))}}),t.data!==this.state.data&&this.props.onChangeState&&t.data.length===this.state.data.length&&this.props.onChangeState(this.state.data)}},{key:"render",value:function(){var e=this,t="undefined"===typeof this.props.invisibles?[]:this.props.invisibles,a=this.props.classes,n=this.state,i=n.data,o=n.order,s=n.orderBy,l=n.selected,c=n.rowsPerPage,u=n.page,d=n.changed,p=c-Math.min(c,i.length-u*c),f=this.props.data.length>0?Object.keys(this.props.data[0])[0]:null,h=d.map(function(e){return e[f]}),m=!(!this.props.checkb&&"undefined"!==typeof this.props.checkb),g="undefined"===typeof this.props.filtre?{}:this.props.filtre,b=Array.isArray(this.props.types)?this.props.types:"undefined"!==typeof i[0]&&Object.keys(i[0]).reduce(function(e,t){return e.concat("string")},[]);return r.a.createElement("div",{style:{overflowX:"scroll"}},r.a.createElement(je,{table:this.props.table,numSelected:l.length,remove:"function"===typeof this.props.remove,fctLines:this.fctLines,examines:this.props.examines,update:"function"==typeof this.props.update,removeL:this.removeLine,updateL:this.updateLines}),Object.keys(g).length>0&&r.a.createElement(ie.a,{onChange:this.filterFocus},r.a.createElement(ce.a,{expandIcon:r.a.createElement(me.a,{title:"Filtrer"},r.a.createElement(be.a,null))}),r.a.createElement(se.a,{style:{display:"flex",justifyContent:"space-around",flexWrap:"wrap"}},Object.keys(g).map(function(t){return g?e.inputFilter(g[t],t):null}),r.a.createElement("a",{href:"#",onClick:this.resetFilter},r.a.createElement(B.a,{style:{fontSize:30},color:"error"}," autorenew ")))),r.a.createElement("div",null,r.a.createElement(J.a,{id:this.props.idTable||this.props.table,className:a.table,"aria-labelledby":"tableTitle"},r.a.createElement(Se,{labels:"undefined"===typeof this.props.labels?this.props.data.length>0?Object.keys(this.props.data[0]):[]:this.props.labels,cols:this.props.data.length>0?Object.keys(this.props.data[0]):[],numSelected:l.length,order:o,orderBy:s,onSelectAllClick:this.handleSelectAllClick,onRequestSort:this.handleRequestSort,rowCount:i.length,update:"function"===typeof this.props.update,remove:"function"===typeof this.props.remove,examine:this.props.examine,checkb:m,invisibles:t}),r.a.createElement(V.a,null,i.length>0?i.slice(u*c,u*c+c).map(function(n,i){var o=e.isSelected(n[f]),s=[];return s="undefined"!==typeof e.props.input?e.props.input.reduce(function(e,t){return e.concat(t.col)},[]):[],r.a.createElement(Z.a,{hover:!0,role:"checkbox","aria-checked":o,tabIndex:-1,key:"ligne".concat(i),selected:o}," ",!!m&&r.a.createElement(X.a,{padding:"checkbox"},r.a.createElement(de.a,{checked:o,onClick:function(t){return e.handleClick(t,n[f])}})),Object.keys(n).map(function(o,l){if(!t.includes(o))return r.a.createElement(X.a,{key:"".concat(o).concat(i),numeric:"number"===b[l]},s.indexOf(o)>-1?r.a.createElement(S.a,{error:h.includes(n[f]),style:{width:"string"===e.props.input[s.indexOf(o)].type?"120px":"60px"},value:n[o],type:e.props.input[s.indexOf(o)].type,onChange:function(t){return e.handleChange(t,o,n)}}):"image"===b[l]?r.a.createElement(ve.a,{alt:"Image".concat(i),src:n[o],className:a.bigAvatar}):n[o])}),"undefined"!==typeof e.props.examine&&e.props.examine.length>0&&e.props.examine.map(function(t,a){return r.a.createElement(X.a,{numeric:!0},r.a.createElement(ve.a,null,r.a.createElement(we.a,{onClick:function(t){return e.examineLine(n,a,t)}},r.a.createElement(B.a,{color:"secondary"},t.icon))))}))}):r.a.createElement(x.a,{variant:"subheading"}," Aucune donn\xe9e \xe0 afficher "),p>0&&r.a.createElement(Z.a,{style:{height:49*p}},r.a.createElement(X.a,{colSpan:i.length>0?Object.keys(i[0]).length:1}))))),r.a.createElement(G.a,{component:"div",count:this.filtredData(i).length,rowsPerPage:c,rowsPerPageOptions:[5,10,25,100],page:u,backIconButtonProps:{"aria-label":"Pr\xe9c\xe9dent"},nextIconButtonProps:{"aria-label":"Suivant"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage})," ","undefined"!==typeof this.props.add&&r.a.createElement(X.a,{numeric:!0},r.a.createElement("a",{href:"#"},r.a.createElement(B.a,{className:a.addButt,color:"secondary",onClick:function(t){return e.addLine(t)}},"add_circle"))),r.a.createElement("div",{style:{float:"right",width:"50%",display:"flex",flexWrap:"wrap",justifyContent:"space-around"}},"undefined"!==typeof this.props.send&&this.props.send.map(function(t){return r.a.createElement(k.a,{onClick:function(a){return e.sendLines(a,t)},color:t.color,className:a.sendButt,variant:"contained"},t.label,r.a.createElement(B.a,null,t.icon))})))}}]),t}(r.a.Component),Oe=Object(p.withStyles)(function(e){return{root:{width:"100%",marginTop:3*e.spacing.unit},table:{minWidth:1020},tableWrapper:{overflowX:"auto"},addButt:{fontSize:"3em"},resetButt:{fontSize:"2em",float:"right"},sendButt:{float:"right"},avatar:{margin:10},bigAvatar:{width:60,height:60}}})(ke),De=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(i)))).state={prod:[],auth:!0,load:!1,insert:!1,insertToggle:!1,insertData:{name:null,cost:0,price:0},del:!1,nom:"",role:""},a.authError=function(){return a.setState({auth:!1},alert("l'autentification a \xe9chou\xe9e, veuillez vous reconnecter!")),r.a.createElement(u.a,{to:"/"})},a.handleInsert=function(e){a.setState(function(e){return{insertToggle:!e.insertToggle}})},a.insertChange=function(e,t){var n=Object(_.a)({},a.state.insertData);n[t]=e.target.value,a.setState({insertData:n})},a.insertProd=function(){var e=sessionStorage.getItem("jwt"),t=a.state.insertData;fetch("/salhi_security/Controller/insert_delete.php?\n \t\ttoken=".concat(e,"&action=insert&Nom=").concat(t.name,"&Cout=").concat(t.cost,"&Prix=").concat(t.price)).then(function(e){return e.text().then(function(e){alert(e),window.location.reload()})}).catch(function(e){alert(e)})},a.deleteProd=function(e){var t=sessionStorage.getItem("jwt"),a=Object.keys(e).reduce(function(t,a){return t.concat("&".concat(a,"=").concat(e[a]))},"");fetch("/salhi_security/Controller/insert_delete.php?action=delete&token="+t+a).then(function(e){return e.text()}).then(function(e){alert(e),window.location.reload()}).catch(function(e){alert(e)})},a.logout=function(){return alert("D\xe9connexion"),r.a.createElement(u.a,{to:"/"})},a}return Object(y.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({load:!0});var t=sessionStorage.getItem("jwt");if(null===t)e.authError();else{var a=JSON.parse(atob(t.split(".")[1]));console.log(a),fetch("/salhi_security/Controller/Products.php?jwt="+t).then(function(t){401===t.status?e.authError():200===t.status&&t.json().then(function(t){var n="admin"===a.Role&&!0,r=n;e.setState({prod:t.data,load:!1,insert:r,del:n,role:a.Role,nom:a.Nom})})}).catch(function(e){alert("erreur "+e+" au niveau du serveur")})}}},{key:"render",value:function(){var e=this,t=this.state,a=t.prod,n=t.auth,i=(t.load,t.insert,t.del);if(n){var o=i?[{label:"Supprimer",icon:"delete",fct:this.deleteProd}]:[];return r.a.createElement("div",null,r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",heigth:"300px"}},r.a.createElement(x.a,{variant:"h5",color:"primary",id:"title"},"Bonjour ".concat(this.state.nom,", connect\xe9 en tant que ").concat(this.state.role)),r.a.createElement(d.b,{to:"/",style:{position:"fixed",top:"10px",right:"10px"}},r.a.createElement(B.a,{fontSize:"large",color:"error",onClick:function(t){return e.logout(t)}},"power_settings_new"))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Oe,{data:a,examine:o,filtre:{Nom:"text",Prix:"number"},table:"Produits disponibles"}),r.a.createElement(k.a,{color:"secondary",onClick:function(t){return e.handleInsert(t)}},"Ajouter ",r.a.createElement(B.a,null,"add")),r.a.createElement(L.a,{open:this.state.insertToggle},r.a.createElement(M.a,{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("label",{htmlFor:"nom"}," Nom",r.a.createElement("input",{placeholder:"Nom Produit",type:"text",onChange:function(t){return e.insertChange(t,"name")},value:this.state.insertData.name})),r.a.createElement("label",{htmlFor:"cout"}," Cout",r.a.createElement("input",{type:"text",onChange:function(t){return e.insertChange(t,"cost")},value:this.state.insertData.cost})),r.a.createElement("label",{htmlFor:"prix"}," Prix",r.a.createElement("input",{type:"text",onChange:function(t){return e.insertChange(t,"price")},value:this.state.insertData.price}))),r.a.createElement(T.a,null,r.a.createElement(k.a,{onClick:this.insertProd,color:"primary"},"Valider ",r.a.createElement(B.a,null," send ")),r.a.createElement(k.a,{onClick:this.handleInsert,color:"secondary"},"Annuler ",r.a.createElement(B.a,null," clear ")))))}return r.a.createElement(u.a,{to:"/"})}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(d.a,null,r.a.createElement(p.MuiThemeProvider,null,r.a.createElement(function(){return r.a.createElement(u.d,null,r.a.createElement(u.b,{path:"/Salhi/:link",component:c}),r.a.createElement(u.b,{path:"/Products",component:De}),r.a.createElement(u.b,{path:"/",component:F}))},null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[139,1,2]]]);
//# sourceMappingURL=main.2080a25e.chunk.js.map