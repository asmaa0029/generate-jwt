{"version":3,"sources":["logo.svg","App.js","Login.js","ReactTab.js","Products.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","App","react_default","a","createElement","className","src","logo","alt","href","target","rel","Login","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","changeUser","e","setState","user","value","changePassword","password","changeVisibility","visible_password","state","login","document","getElementById","innerHTML","obj","assertThisInitialized","preventDefault","fetch","method","mode","headers","Access-Control-Allow-Methods","Content-type","Access-Control-Allow-Origin","body","then","rep","status","alert","message","text","jwt","logged","sessionStorage","setItem","catch","confirm","which","click","handleChange","event","selectedMag","role","_this2","react_router","push","to","passType","icon","style","display","justifyContent","Paper_default","elevation","width","marginTop","Typography_default","variant","color","paddingLeft","backgroundColor","onSubmit","id","action","flexFlow","TextField_default","label","onChange","InputProps","startAdornment","InputAdornment_default","position","Icon_default","float","marginRight","marginLeft","onClick","type","onKeyPress","Button_default","margin","React","Component","getSorting","order","orderBy","b","ReactTabHead","createSortHandler","property","onRequestSort","_this$props","onSelectAllClick","numSelected","rowCount","checkb","labels","classes","TableHead_default","head","TableRow_default","TableCell_default","padding","Checkbox_default","indeterminate","checked","map","column","num","invisibles","includes","key","concat","sortDirection","icons","Tooltip_default","title","enterDelay","TableSortLabel_default","active","cols","direction","examine","withStyles","theme","root","paddingRight","spacing","unit","fontSize","fontWeight","palette","primary","main","ReactTabToolbar","examines","fctLines","Toolbar_default","classNames","defineProperty","heading","table","spacer","actions","alignContent","exam","i","secondary","lighten","light","flex","typography","pxToRem","flexBasis","flexShrink","ReactTab","_this3","updateData","changed","_this3$state","selected","rowsPerPage","page","data","length","keys","ids","d","filtredData","line","filter","f","reset","resetFilter","changeFilter","ev","filters","changeSet","v","objectSpread","dt","filtred","toLowerCase","Date","getTime","handleRange","playload","start","startDate","getFullYear","parseInt","getMonth","getDate","end","endDate","fil","filtre","reduce","acc","cur","handleRequestSort","pos","indexOf","handleSelectAllClick","id0","n","handleClick","selectedIndex","newSelected","slice","handleChangePage","handleChangeRowsPerPage","Math","min","examineLine","fct","selData","cell","c","onChangeState","isSelected","inputFilter","_React$createElement","_React$createElement2","begin","now","substring","InputLabel_default","required","max","step","replace","pow","val","sendLines","s","filterFocus","getElementsByTagName","focus","ord","rows","prevProps","prevState","_this4","sort","JSON","stringify","_this5","inv","_this$state","emptyRows","idd","idChanged","filt","types","Array","isArray","overflowX","ReactTab_ReactTabToolbar","remove","update","removeL","removeLine","updateL","updateLines","ExpansionPanel_default","ExpansionPanelSummary_default","expandIcon","FilterList_default","ExpansionPanelDetails_default","flexWrap","Table_default","idTable","aria-labelledby","ReactTab_ReactTabHead","TableBody_default","m","inputs","input","curr","col","hover","aria-checked","tabIndex","numeric","error","Avatar_default","bigAvatar","Fab_default","height","colSpan","TablePagination_default","component","count","rowsPerPageOptions","backIconButtonProps","aria-label","nextIconButtonProps","onChangePage","onChangeRowsPerPage","add","addButt","addLine","send","sendButt","minWidth","tableWrapper","resetButt","avatar","Products","prod","auth","load","insert","insertToggle","insertData","name","cost","price","del","nom","authError","handleInsert","insertChange","ins","insertProd","getItem","prm","window","location","reload","msg","deleteProd","params","logout","payload","parse","atob","split","console","log","json","Role","Nom","exm","heigth","react_router_dom","top","right","src_ReactTab","Prix","Dialog_default","open","DialogContent_default","htmlFor","placeholder","DialogActions_default","Boolean","hostname","match","ReactDOM","render","styles","path","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.2080a25e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","import React from 'react';\nimport logo from './logo.svg';\nimport './App.css';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\n        <p>\n          Edit <code>src/App.js</code> and save to reload.\n        </p>\n        <a\n          className=\"App-link\"\n          href=\"https://reactjs.org\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          Learn React\n        </a>\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\r\nimport { Redirect } from 'react-router';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport Icon from '@material-ui/core/Icon';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nexport default class Login extends React.Component {\r\n\tconstructor(props)\r\n  \t{ super(props);  \r\n\t this.state={\r\n\t\tuser:'',\r\n\t\tpassword:'',\r\n\t\tvisible_password:false,\r\n\t\tmessage:'',\r\n\t\trole:'',\r\n\t\tlogged:false,\r\n\t\tjwt:{}\r\n\t\t}\r\n\t}\r\n\tchangeUser = e =>{\r\n\t\tthis.setState({user:e.target.value})\r\n\t}\r\n\tchangePassword=(e) =>{\r\n\t\tthis.setState({password:e.target.value})\r\n\t}\r\n\tchangeVisibility = () =>{\r\n\t\t//let etat=this.state.visible_password;\r\n\t\tthis.setState({visible_password:!this.state.visible_password});\r\n\t}\r\n\tlogin = (e) =>{\r\n\t\tdocument.getElementById('erreur').innerHTML=\"\";\r\n\t\tlet obj=this;\r\n\t\te.preventDefault();\r\n\t\tfetch(\"http://127.0.0.1:8080/salhi_security/Controller/Login.php\", {\r\n\t\t\tmethod: 'POST',\r\n\t\t\tmode: 'cors',\r\n\t\t    headers:{ 'Access-Control-Allow-Methods': 'POST',\r\n\t\t    'Content-type':'application/x-www-form-urlencoded','Access-Control-Allow-Origin':'*'},\r\n\t\t \tbody: \"user=\"+obj.state.user+\"&password=\"+obj.state.password\r\n\t\t \t}).then(function(rep){ if(rep.status===401){ alert(\"unauthorized\");\r\n\t\t \t obj.setState({message:'Identifiants éronnés'})\r\n\t\t \t return false } else{\r\n\t\t \t\treturn rep.text().then(function(jwt){\r\n\t\t\t\tobj.setState({message:'Ok',jwt:jwt,logged:true},sessionStorage.setItem('jwt',jwt))\r\n\t\t \t})}})\r\n\t\t \t\t.catch(function(rep){ obj.setState({message:\"Problème lors de la tentative d'accès au serveur !\"+rep}) })\r\n\t}\r\n\tconfirm = (e)=>{\r\n\t\tif(e.which===13) { document.getElementById('boutLog').click() }\r\n\t}\t\r\n\thandleChange = (event)=>{\r\n\t\tthis.setState({selectedMag:event.target.value});\r\n\t}\r\n\t\r\n\trender(){\t\t\r\n\t\tif(this.state.logged){\r\n\t\t\treturn (<Redirect push to=\"/Products\"/>)\r\n\t\t}\r\n\t\tlet passType=this.state.visible_password ? 'text' : 'password';\r\n\t\tlet icon=this.state.visible_password ? 'visibility_off' : 'visibility';\r\n\t\treturn(\r\n\t\t<div style={{display:'flex',justifyContent:'center'}}>\r\n\t  <Paper elevation={1} style={{width:'50%',marginTop:'50px'}} >\r\n        <Typography variant=\"headline\" color='secondary' style={{paddingLeft:'30%',justifyContent:'center',backgroundColor:'#ddd'}}>\r\n        \tConnexion Salhi\r\n        </Typography>\r\n\t\t<form onSubmit={this.login} id='connexion' method='POST' action='/Sondabaz/Controller/login.php'\r\n\t\t style={{display:'flex',flexFlow:'wrap column',justifyContent:'space-around'}}>\r\n\t\t\t<TextField\r\n\t\t\t\tid='user'\r\n\t\t\t\tlabel='Utilisateur'\r\n\t\t\t\tvalue={this.state.user}\r\n\t\t\t\tonChange={this.changeUser}\r\n\t\t\t\tInputProps={{\r\n\t\t\t\t startAdornment: (\r\n\t\t\t\t\t<InputAdornment position=\"end\">\r\n\t\t              <Icon style={{float:'right',marginRight:'25px',marginLeft:'5px'}} onClick={this.changeVisibility}>account_circle</Icon>\r\n\t\t            </InputAdornment> ),\r\n\t\t        }}\r\n\t\t\t/>\r\n\t\t\t<TextField\r\n\t\t\t\tid='password'\r\n\t\t\t\tlabel='Mot de passe'\r\n\t\t\t\ttype={passType}\r\n\t\t\t\tvalue={this.state.password}\r\n\t\t\t\tonChange={this.changePassword}\r\n\t\t\t\tonKeyPress={this.confirm}\r\n\t\t\t\tInputProps={{\r\n\t\t          startAdornment: (\r\n\t\t            <InputAdornment position=\"end\">\r\n\t\t              <Icon style={{float:'right',marginRight:'25px',marginLeft:'5px'}} onClick={this.changeVisibility}> {icon} </Icon>\r\n\t\t            </InputAdornment>\r\n\t\t          ),\r\n\t\t        }}\r\n\t\t\t/>\r\n\t\t\t<h3 id=\"erreur\"></h3>\r\n\t\t\t<Button id=\"boutLog\" variant=\"contained\" color=\"primary\"\r\n\t\t\t style={{width:'40%',margin:'30px 30px 30px 30px',float:'right'}} \r\n\t\t\t onClick={e=>this.login(e)}>\r\n       \t\t\tSe connecter <Icon>add_to_home_screen</Icon>\r\n      \t\t</Button>\r\n      \t\t<Typography variant=\"title\" color=\"error\" id=\"message\"> {this.state.message} </Typography>\r\n\t\t</form>\r\n      </Paper>\r\n    </div>\r\n\t)}\r\n}","import React from 'react';\r\nimport classNames from 'classnames';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableFooter from '@material-ui/core/TableFooter';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport FilterListIcon from '@material-ui/icons/FilterList';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Icon from '@material-ui/core/Icon';\r\nimport Button from '@material-ui/core/Button';\r\n//import Select from 'react-select';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport { lighten } from '@material-ui/core/styles/colorManipulator';\r\n\r\nfunction getSorting(order, orderBy) {\r\n  if( typeof orderBy === 'string'){\r\n    return order === 'desc'\r\n      ? (a, b) => (b[orderBy] < a[orderBy] ? -1 : 1)\r\n      : (a, b) => (a[orderBy] < b[orderBy] ? -1 : 1);\r\n  }\r\n}\r\nconst headStyles = theme => ({\r\n  root: {\r\n    paddingRight: theme.spacing.unit,\r\n  },\r\n  head:\r\n    { fontSize:16,\r\n      fontWeight:'bold',\r\n      color:'white',\r\n      backgroundColor: theme.palette.primary.main,\r\n    }\r\n});\r\n\r\nclass ReactTabHead extends React.Component {\r\n  createSortHandler = property => event => {\r\n    this.props.onRequestSort(event, property);\r\n  };\r\n  render() {\r\n    const { onSelectAllClick, order, orderBy, numSelected, rowCount, checkb, labels, classes } = this.props;\r\n    return (\r\n      <TableHead className={classes.head}>\r\n        <TableRow>\r\n        { checkb ? (\r\n          <TableCell padding=\"checkbox\">\r\n            <Checkbox\r\n              indeterminate={numSelected > 0 && numSelected < rowCount}\r\n              checked={numSelected === rowCount}\r\n              onChange={onSelectAllClick}  />\r\n          </TableCell>) : false } \r\n          {labels.map((column,num) => {\r\n            if(!this.props.invisibles.includes(column)) { return(\r\n              <TableCell className={classes.head}\r\n                key={`col${column}`}\r\n                sortDirection={orderBy === column ? order : false}\r\n              >\r\n               {typeof this.props.icons !== 'undefined' ? <Icon>{this.props.icons[num]}</Icon> : false}\r\n                <Tooltip\r\n                  title=\"Trier\"\r\n                  enterDelay={300}\r\n                >\r\n                  <TableSortLabel\r\n                    active={orderBy === this.props.cols[num]}\r\n                    direction={order}\r\n                    onClick={this.createSortHandler(column)}\r\n                  >\r\n                  {column}\r\n                  </TableSortLabel>\r\n                </Tooltip>\r\n              </TableCell>\r\n            )};\r\n          }, this)}\r\n          { this.props.examine ? \r\n            this.props.examine.map(e=>{\r\n             return(<TableCell className={classes.head}>{e.label}</TableCell> ) })\r\n            : false }\r\n             </TableRow>\r\n      </TableHead>\r\n    );\r\n  }\r\n}\r\n\r\nReactTabHead.propTypes = {\r\n  numSelected: PropTypes.number.isRequired,\r\n  onRequestSort: PropTypes.func.isRequired,\r\n  onSelectAllClick: PropTypes.func.isRequired,\r\n  order: PropTypes.string.isRequired,\r\n  //orderBy: PropTypes.string.isRequired,\r\n  rowCount: PropTypes.number.isRequired};\r\nReactTabHead = withStyles(headStyles)(ReactTabHead);\r\nconst toolbarStyles = theme => ({\r\n  root: {\r\n    paddingRight: theme.spacing.unit,\r\n  },\r\n  head:\r\n    {\r\n     color: theme.palette.secondary.main,\r\n      backgroundColor: lighten(theme.palette.primary.light, 0.85),\r\n    },\r\n  spacer: {\r\n    flex: '1 1 100%',\r\n  },\r\n  heading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    flexBasis: '33.33%',\r\n    flexShrink: 0,\r\n  },\r\n  actions: {\r\n    color: theme.palette.text.secondary,\r\n  },\r\n  title: {\r\n    flex: '0 0 auto',\r\n  },\r\n});\r\n \r\nlet ReactTabToolbar = props => {\r\n  const { numSelected, examines, fctLines, classes } = props;\r\n  return (\r\n    <Toolbar\r\n      className={classNames(classes.root, {\r\n        [classes.heading]: numSelected > 0,\r\n      })}\r\n    >\r\n      <div className={classes.title}>\r\n        {numSelected > 0 ? (\r\n          <Typography color=\"inherit\" variant=\"subheading\">\r\n            {numSelected} selectionnées\r\n          </Typography>\r\n        ) : (\r\n          <Typography variant=\"title\" color=\"primary\" id=\"tableTitle\">\r\n            {props.table}\r\n          </Typography>\r\n        )}\r\n      </div>\r\n      <div className={classes.spacer} />\r\n      <div className={classes.actions}>\r\n        { numSelected > 0 ? (\r\n         <span key='commandesTab' style={{width:'75px',display:'flex',alignContent:'row',justifyContent:'space-between'}}>\r\n         {examines.map((exam,i)=>{\r\n          return( <Tooltip title={exam.label}><Icon color=\"secondary\" onClick={e=>props.fctLines(i,e)}>{exam.icon}</Icon></Tooltip> )})\r\n        } </span> ) : ( false )}\r\n      </div>\r\n    </Toolbar>\r\n  );\r\n};\r\n\r\nReactTabToolbar.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  numSelected: PropTypes.number.isRequired,\r\n};\r\n\r\nReactTabToolbar = withStyles(toolbarStyles)(ReactTabToolbar);\r\nconst styles = theme => ({ \r\n  root: {\r\n    width: '100%',\r\n    marginTop: theme.spacing.unit * 3,\r\n  },\r\n  table: {\r\n    minWidth: 1020,\r\n  },\r\n  tableWrapper: {\r\n    overflowX: 'auto',\r\n  },\r\n  addButt:{fontSize:'3em'},\r\n  resetButt:{fontSize:'2em',float:'right'},\r\n  sendButt:{float:'right'},\r\n  avatar: {margin: 10,},\r\n  bigAvatar: {width: 60,height: 60,},\r\n});\r\n\r\nclass ReactTab extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const { classes } = props;\r\n    let fil=typeof this.props.filtre !== 'undefined'\r\n     ? (Object.keys(this.props.filtre).reduce((acc,cur)=>{ acc[cur]=new Object(); return acc},{})) : {};\r\n    let ord= this.props.data.length > 0 ? Object.keys(props.data[0])[0] : null;\r\n    let rows=typeof this.props.rows === 'undefined' ? 5 : this.props.rows;\r\n    const dt=props.data;\r\n    this.state = {\r\n      order: 'asc',\r\n      orderBy: ord,\r\n      selected: [],\r\n      data: [],\r\n      changed:[],\r\n      page: 0,\r\n      rowsPerPage: rows,\r\n      filters:fil,\r\n    };\r\n  }\r\n  componentDidMount(){\r\n    let first = this.props.data.length > 0 ? Object.keys(this.props.data[0])[0] : null;\r\n    this.setState({data:this.props.data})\r\n  } \r\n getSnapshotBeforeUpdate(prevProps, prevState) {\r\n    if(prevState.orderBy!==this.state.orderBy || prevState.order!==this.state.order || prevState.filters!==this.state.filters ){\r\n      this.setState(state=>{ return {data:this.updateData(this.state.changed).sort(getSorting(this.state.order, this.state.orderBy))} });\r\n    }\r\n    if(JSON.stringify(prevProps.data) !== JSON.stringify(this.props.data) ){\r\n      this.setState(state=>{ return {data:this.updateData(this.state.changed).sort(getSorting(this.state.order, this.state.orderBy))} });\r\n    }\r\n    if(prevState.data!==this.state.data && this.props.onChangeState && prevState.data.length === this.state.data.length){\r\n      this.props.onChangeState(this.state.data);\r\n    }\r\n  }\r\n  updateData = (changed) =>{\r\n     const { order, orderBy, selected, rowsPerPage, page } = this.state;\r\n      let id=this.props.data.length > 0 ? Object.keys(this.props.data[0])[0] : [];\r\n      let ids=changed.map(d=>d[id]);\r\n      let dt = this.filtredData(this.props.data).map(line=>{\r\n        if(ids.includes(line[id])) { return changed.filter(f=>f[id]===line[id])[0] }\r\n        else { return line }\r\n      });\r\n    return dt;\r\n  }\r\n  reset=(e)=>{\r\n    e.preventDefault();\r\n    this.resetFilter();\r\n  }\r\n  changeFilter=(ev,label,type)=>{  \r\n    let filters=this.state.filters;\r\n    filters[label][type]=ev.target.value;   \r\n    this.setState({filters,data:this.updateData(this.state.changed)});\r\n  }\r\n  changeSet = (v,label)=>{\r\n    let f = {...this.state.filters};\r\n    f[label]['in']=[v];\r\n    this.setState({filters:f,data:this.updateData(this.state.changed)});\r\n  }\r\n  filtredData=(dt)=>{\r\n     let data=dt.filter(line=>{\r\n      let filtred=true;\r\n        Object.keys(this.state.filters).map(e=>{\r\n        if(this.state.filters[e]['val'] && !line[e].toLowerCase().includes(this.state.filters[e]['val'].toLowerCase())) { filtred=false }\r\n        else if(this.state.filters[e]['in'] && !this.state.filters[e]['in'].includes(line[e])) { filtred=false }  \r\n        else if(this.state.filters[e]['min'] && line[e] < this.state.filters[e]['min']) { filtred=false }\r\n        else if(this.state.filters[e]['max'] && line[e] > this.state.filters[e]['max']) { filtred=false }\r\n        else if(this.state.filters[e]['begin'] && new Date(line[e]).getTime() < new Date(this.state.filters[e]['begin']).getTime()) { filtred=false }\r\n        else if(this.state.filters[e]['end'] && new Date(line[e]).getTime() > new Date(this.state.filters[e]['end']).getTime()) { filtred=false }\r\n      });\r\n      return filtred;\r\n    }); \r\n    return data;\r\n  }\r\n   handleRange = (which,playload)=>{\r\n    let start=new Date(playload.startDate['_d'].getFullYear()+'-'+parseInt(playload.startDate['_d'].getMonth()+1)+'-'+playload.startDate['_d'].getDate());\r\n    let end=new Date(playload.endDate['_d'].getFullYear()+'-'+parseInt(playload.endDate['_d'].getMonth()+1)+'-'+playload.endDate['_d'].getDate());\r\n    let filters=this.state.filters;\r\n    filters[which]['begin']=start;\r\n    filters[which]['end']=end;\r\n    let data=this.props.data.filter(line=>{ return new Date(line[which]) >= start && new Date(line[which]) <= end});\r\n    this.setState({filters,data});\r\n  }\r\n  resetFilter=(e)=>{\r\n    e.preventDefault();\r\n    let fil=typeof this.props.filtre !== 'undefined' ? (Object.keys(this.props.filtre).reduce((acc,cur)=>{ acc[cur]=new Object(); return acc},{})) : null;\r\n    this.setState({filters:fil,data:this.props.data}); \r\n  }\r\n  handleRequestSort = (event, property) => {\r\n    if(typeof this.props.labels !== 'undefined' && this.props.data.length > 0){\r\n      let pos=this.props.labels.indexOf(property);\r\n      property=Object.keys(this.props.data[0])[pos];\r\n    }\r\n    const orderBy = property;\r\n    let order = 'desc';\r\n    if (this.state.orderBy === property && this.state.order === 'desc') {\r\n      order = 'asc';\r\n    }\r\n    this.setState({ order, orderBy });\r\n  };\r\n  handleSelectAllClick = (event, checked) => {\r\n    if (checked) {\r\n      let id0=Object.keys(this.props.data[0])[0];\r\n      this.setState((state,props) => ({ selected: props.data.map(n => n[id0]) }));\r\n      return;\r\n    }\r\n    this.setState({ selected: [] });\r\n  };\r\n  handleClick = (event, id) => {\r\n    const { selected } = this.state;\r\n    const selectedIndex = selected.indexOf(id);\r\n    let newSelected = [];\r\n    if (selectedIndex === -1) {\r\n      newSelected = newSelected.concat(selected, id);\r\n    } else if (selectedIndex === 0) {\r\n      newSelected = newSelected.concat(selected.slice(1));\r\n    } else if (selectedIndex === selected.length - 1) {\r\n      newSelected = newSelected.concat(selected.slice(0, -1));\r\n    } else if (selectedIndex > 0) {\r\n      newSelected = newSelected.concat(\r\n        selected.slice(0, selectedIndex),\r\n        selected.slice(selectedIndex + 1),\r\n      );\r\n    }\r\n    this.setState({ selected: newSelected });\r\n  };\r\n  handleChangePage = (event, page) => {\r\n    this.setState({ page });\r\n  };\r\n  handleChangeRowsPerPage = event => {\r\n    this.setState((state,props)=>{ return {rowsPerPage: Math.min(event.target.value,this.filtredData(props.data).length)}});\r\n  };\r\n  examineLine = (n,i,e) =>{\r\n    let id=Object.keys(this.props.data[0])[0];\r\n   this.setState({ selected: [] },this.props.examine[i].fct(n));\r\n  }\r\n  fctLines = (i,e) =>{\r\n    let id=Object.keys(this.props.data[0])[0];\r\n    let selData=this.state.data.filter(line=>this.state.selected.includes(line[id]));\r\n   this.setState({ selected: [] },this.props.examines[i].fct(selData));\r\n  }\r\n  handleChange = (e,cell,n)=>{\r\n    let id=Object.keys(this.props.data[0])[0];\r\n    let ids=this.state.changed.map(d=>d[id]);\r\n    let line={...n};\r\n    let changed = this.state.changed;\r\n    line[cell]=e.target.value;\r\n    if(!ids.includes(line[id])) { changed.push(line) }\r\n    else { changed.map(c=> c[id]===line[id] ? c[cell]=line[cell] : false ) }\r\n    this.props.onChangeState ? \r\n    this.setState({changed,data:this.updateData(changed)},this.props.onChangeState(this.updateData(changed))) :\r\n    this.setState({changed,data:this.updateData(changed)});\r\n  }\r\n  isSelected = id => {return this.state.selected.indexOf(id) !== -1;}\r\n  inputFilter=(type,label)=>{ \r\n    let cols=this.props.data.length > 0 ? Object.keys(this.props.data[0]) : [];\r\n    let labels=typeof this.props.labels !== 'undefined'\r\n     ? this.props.labels.reduce((acc,cur,i)=>{ acc[cols[i]]=cur; return acc },new Object())\r\n     : cols.reduce((acc,cur,i)=>{ acc[cols[i]]=cur; return acc },new Object());\r\n     let begin=typeof this.state.filters[label].begin==='undefined' ? Date.now() : this.state.filters[label].begin;\r\n     let end=typeof this.state.filters[label].end==='undefined' ? Date.now() : this.state.filters[label].end;\r\n    //switch(type) {\r\n      \r\n      if(type.substring(0,6)==='number' || type.substring(0,3)==='int' || type.substring(0,5)==='float'){\r\n        return (<InputLabel>\r\n          <div>\r\n           <TextField required={false} label={`Min ${labels[label]}`} value={typeof this.state.filters[label].min==='undefined' ? '' : this.state.filters[label].min}\r\n            type='number' onChange={e=>this.changeFilter(e,label,'min')} />\r\n           <TextField required={false} label={`Max ${labels[label]}`} value={typeof this.state.filters[label].max==='undefined' ? '' : this.state.filters[label].max}\r\n            type='number' onChange={e=>this.changeFilter(e,label,'max')} />\r\n          </div></InputLabel>);\r\n      }\r\n      else if(type.substring(0,7)==='decimal'){ var step=type.replace(/(decimal\\()([0-9]+,)([0-9])(\\))/, '$3');\r\n        step=1/Math.pow(10,parseInt(step));\r\n        return (<InputLabel>\r\n          <div>\r\n           <TextField step={step} required={false} label={`Min ${labels[label]}`} value={typeof this.state.filters[label].min==='undefined' ? '' : this.state.filters[label].min}\r\n            type='number' onChange={e=>this.changeFilter(e,label,'min')} />\r\n           <TextField step={step} required={false} label={`Max ${labels[label]}`} value={typeof this.state.filters[label].max==='undefined' ? '' : this.state.filters[label].max}\r\n            type='number' onChange={e=>this.changeFilter(e,label,'max')} />\r\n          </div></InputLabel>);\r\n      }\r\n      else if (type.substring(0,8)==='time'){\r\n        return (<InputLabel>\r\n          <div>\r\n          <TextField required={false} type=\"time\" step={60} label={`Min ${labels[label]}`} value={typeof this.state.filters[label].begin==='undefined' ? '' : this.state.filters[label].begin} type=\"datetime-local\" onChange={e=>this.changeFilter(e,label,'min')} />\r\n          <TextField required={false} type=\"time\" step={60} label={`Max ${labels[label]}`} value={typeof this.state.filters[label].end==='undefined' ? '' : this.state.filters[label].end} type=\"datetime-local\" onChange={e=>this.changeFilter(e,label,'max')} />     \r\n          </div></InputLabel>\r\n        );\r\n      }\r\n      else if (type.substring(0,4) === 'date'){\r\n        return (\r\n          <div>\r\n         {/* <DateRange lang='fr' calendars={1} format={`YYYY-MM-DD`} ranges={{Début:begin,Fin:end}}\r\n          twoStepChange={true} onChange={this.handleRange.bind(this, labels[label])} /> */}\r\n          <TextField type=\"date\" label={`Début ${labels[label]}`} value={begin} onChange={e=>this.changeFilter(e,label,'begin')} />\r\n          <TextField type=\"date\" label={`Fin ${labels[label]}`} value={end} onChange={e=>this.changeFilter(e,label,'end')} />\r\n          </div>\r\n        );\r\n      }\r\n     /* else if(type === 'set'){\r\n        let col = this.props.data.map(line=>line[label]);\r\n        let opt = [...new Set(col)].map(op=>{return {label:op,value:op} });\r\n        let valSet = this.state.filters[label]['in'] ? this.state.filters[label].in.map(e=>{return {label:e,value:e}}) : null;\r\n        let options= [\r\n          { value: 'one', label: 'One' },\r\n          { value: 'two', label: 'Two' }\r\n        ];\r\n        return(<InputLabel style={{width:'30%'}}>Choisir {label}<Icon>list</Icon>\r\n          <Select isMulti\r\n          autosize\r\n          placeholder=\"Tous\"\r\n          noResultsText=\"Pas de correspondance\"\r\n          options={options}\r\n          //value={valSet}\r\n          //onChange={v=>this.changeSet(v,label)}\r\n        /></InputLabel>)\r\n      }  */\r\n      //if(type.substring(0,7)==='varchar' || type.substring(0,4)==='text'){ \r\n      else{\r\n        return(<InputLabel>\r\n           <TextField required={false} label={`Filtre ${labels[label]}`} value={typeof this.state.filters[label].val==='undefined' ? '' : this.state.filters[label].val}\r\n            onChange={e=>this.changeFilter(e,label,'val')} />\r\n          </InputLabel>) ;\r\n      }\r\n  }  \r\n  sendLines = (e,s)=>{\r\n    s.fct(this.state.data);\r\n  }\r\n  filterFocus=()=>{ document.getElementsByTagName('input')[0].focus() }\r\n  render() {\r\n    const inv = typeof this.props.invisibles === 'undefined' ? [] : this.props.invisibles;\r\n    const { classes } = this.props;\r\n    const { data, order, orderBy, selected, rowsPerPage, page, changed } = this.state;\r\n    const emptyRows = rowsPerPage - Math.min(rowsPerPage, data.length - page * rowsPerPage);\r\n    const idd = this.props.data.length > 0 ? Object.keys(this.props.data[0])[0] : null;\r\n    let idChanged=changed.map(e=>e[idd]);\r\n    const checkb = this.props.checkb || typeof this.props.checkb==='undefined' ? true : false;\r\n    let filt= typeof this.props.filtre==='undefined' ? {} : this.props.filtre;\r\n    const types=Array.isArray(this.props.types) ? this.props.types : \r\n    ( typeof data[0] !== 'undefined' ? Object.keys(data[0]).reduce((acc,cur)=>{ return acc.concat('string')},[]) : false);\r\n    return (\r\n      <div style={{overflowX:'scroll'}}>\r\n        <ReactTabToolbar table={this.props.table} numSelected={selected.length} remove={typeof this.props.remove==='function'} fctLines={this.fctLines}\r\n        examines={this.props.examines} update={typeof this.props.update=='function'} removeL={this.removeLine} updateL={this.updateLines}/>\r\n          { Object.keys(filt).length > 0 ? (\r\n            <ExpansionPanel onChange={this.filterFocus}>\r\n                <ExpansionPanelSummary expandIcon={<Tooltip title=\"Filtrer\"><FilterListIcon /></Tooltip>}>\r\n                </ExpansionPanelSummary>\r\n                <ExpansionPanelDetails style={{display:'flex',justifyContent:'space-around',flexWrap:'wrap'}}>\r\n                  { Object.keys(filt).map(f=>{\r\n                     return filt ? this.inputFilter(filt[f],f) : null\r\n                    })\r\n                  }\r\n                  <a href=\"#\" onClick={this.resetFilter}><Icon style={{fontSize:30}} color='error'> autorenew </Icon></a>\r\n                </ExpansionPanelDetails>\r\n            </ExpansionPanel>)\r\n          : false}\r\n        <div>\r\n          <Table id={this.props.idTable || this.props.table} className={classes.table} aria-labelledby=\"tableTitle\">\r\n            <ReactTabHead\r\n              labels={typeof this.props.labels==='undefined' ? (this.props.data.length > 0 ? Object.keys(this.props.data[0]) : []) : this.props.labels}\r\n              cols={this.props.data.length > 0 ? Object.keys(this.props.data[0]) : []}\r\n              numSelected={selected.length}\r\n              order={order}\r\n              orderBy={orderBy}\r\n              onSelectAllClick={this.handleSelectAllClick}\r\n              onRequestSort={this.handleRequestSort}\r\n              rowCount={data.length}\r\n              update={typeof this.props.update==='function'}\r\n              remove={typeof this.props.remove==='function'}\r\n              examine={this.props.examine}\r\n              checkb={checkb}\r\n              invisibles={inv}\r\n            />\r\n            <TableBody>\r\n              { data.length > 0 ? (\r\n                data.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((n,m) => {\r\n                  const isSelected = this.isSelected(n[idd]);\r\n                  let inputs=[];\r\n                  typeof this.props.input !== 'undefined' ? inputs=this.props.input.reduce((acc,curr)=>acc.concat(curr.col),[]) : inputs=[];\r\n                  return (\r\n                    <TableRow\r\n                      hover\r\n                      role=\"checkbox\"\r\n                      aria-checked={isSelected}\r\n                      tabIndex={-1}\r\n                      key={`ligne${m}`}\r\n                      selected={isSelected}\r\n                    > { checkb ? (\r\n                      <TableCell padding=\"checkbox\">\r\n                        <Checkbox checked={isSelected} onClick={event => this.handleClick(event, n[idd])}/>\r\n                      </TableCell>)\r\n                      : false }\r\n                      { Object.keys(n).map((cell,i) => { \r\n                        if(!inv.includes(cell)){\r\n                         return(                          \r\n                          <TableCell key={`${cell}${m}`} numeric={types[i] === 'number'}>\r\n                           { inputs.indexOf(cell) > -1 ?\r\n                          (<TextField error={idChanged.includes(n[idd])} \r\n                           style={{width:this.props.input[inputs.indexOf(cell)].type==='string' ? '120px' : '60px'}}\r\n                            value={n[cell]} \r\n                            type={this.props.input[inputs.indexOf(cell)].type} onChange={e=>this.handleChange(e,cell,n)}/>)  :\r\n                              (types[i] === 'image' ? <Avatar alt={`Image${m}`} src={n[cell]} className={classes.bigAvatar} /> : n[cell])     }\r\n                          </TableCell> \r\n                          )\r\n                      }\r\n                      })}\r\n                      { typeof this.props.examine!=='undefined' && this.props.examine.length > 0 ?\r\n                        this.props.examine.map((exam,i)=>{\r\n                       return(<TableCell numeric><Avatar><Fab onClick={e=>this.examineLine(n,i,e)}>\r\n                        <Icon color=\"secondary\">{exam.icon}</Icon></Fab></Avatar></TableCell>) })\r\n                      : false}\r\n                    </TableRow>\r\n                  );\r\n                })) : ( <Typography variant='subheading'> Aucune donnée à afficher </Typography> )}\r\n              {emptyRows > 0 && (\r\n                <TableRow style={{ height: 49 * emptyRows }}>\r\n                  <TableCell colSpan={data.length > 0 ? Object.keys(data[0]).length : 1} />\r\n                </TableRow>\r\n              )}\r\n            </TableBody>\r\n          </Table>\r\n        </div>\r\n        <TablePagination\r\n          component=\"div\"\r\n          count={this.filtredData(data).length}\r\n          rowsPerPage={rowsPerPage}\r\n          rowsPerPageOptions={[5, 10, 25, 100]}\r\n          page={page}\r\n          backIconButtonProps={{ 'aria-label': 'Précédent', }}\r\n          nextIconButtonProps={{ 'aria-label': 'Suivant', }}\r\n          onChangePage={this.handleChangePage}\r\n          onChangeRowsPerPage={this.handleChangeRowsPerPage}\r\n        /> {/*\r\n        <TableFooter>\r\n              <TableRow>\r\n                <TablePagination\r\n                 rowsPerPageOptions={[5, 10, 25, 100]}\r\n                 colSpan={3}\r\n                 //count={rows.length}\r\n                 rowsPerPage={rowsPerPage}\r\n                 page={page}\r\n                 theme={{direction:'rtl'}}\r\n                 onChangePage={this.handleChangePage}\r\n                 onChangeRowsPerPage={this.handleChangeRowsPerPage}\r\n                 ActionsComponent={TablePaginationActions}\r\n                />\r\n              </TableRow>\r\n            </TableFooter> */}\r\n        { typeof this.props.add !=='undefined' ? <TableCell numeric><a href='#'>\r\n          <Icon className={classes.addButt} color=\"secondary\" onClick={e=>this.addLine(e)}>add_circle</Icon></a></TableCell> : false }\r\n        <div style={{float:'right',width:'50%',display:'flex',flexWrap:'wrap',justifyContent:'space-around'}}>\r\n        { typeof this.props.send !=='undefined' ? (\r\n         this.props.send.map(s=>{ return(\r\n          <Button onClick={e=>this.sendLines(e,s)} color={s.color} className={classes.sendButt} variant=\"contained\">\r\n          {s.label}<Icon>{s.icon}</Icon></Button>) }) )\r\n        : false\r\n        }\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nReactTab.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\nexport default withStyles(styles)(ReactTab);","import React from 'react';\r\nimport { Redirect, Link } from 'react-router-dom';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport ReactTab from './ReactTab';\r\nimport Icon from '@material-ui/core/Icon';\r\n\r\n export default class Products extends React.Component{\r\n\tstate = { prod:[], \r\n\t\tauth:true,\r\n\t\tload:false,\r\n\t\tinsert:false,\r\n\t\tinsertToggle:false,\r\n\t\tinsertData: {name:null,cost:0,price:0},\r\n\t\tdel:false,\r\n\t\tnom: '',\r\n\t\trole:''  }\r\n \tauthError = ()=>{\r\n \t\tthis.setState({auth:false},alert(\"l'autentification a échouée, veuillez vous reconnecter!\"));\r\n\t\treturn <Redirect to=\"/\" />\r\n \t}\r\n \tcomponentDidMount(){\r\n \t\tlet obj = this;\r\n \t\tthis.setState({load:true});\r\n \t\tlet jwt = sessionStorage.getItem('jwt');\r\n \t\tif(jwt === null) { obj.authError() }\r\n \t\telse{\r\n\t \t\tlet payload = JSON.parse(atob(jwt.split('.')[1]));\r\n\t\t\tconsole.log(payload);\r\n\t \t\tfetch(\"http://127.0.0.1:8080/salhi_security/Controller/Products.php?jwt=\"+jwt)\r\n\t \t\t.then(function(prm){\r\n\t \t\t\tif(prm.status === 401){ obj.authError() }\r\n\t \t\t\telse if(prm.status === 200)\t{\r\n\t \t\t\t\tprm.json().then(function(rep){ let del = payload.Role === 'admin' && true;\r\n\t \t\t\t\t\tlet insert = del;\r\n\t \t\t\t\t\tobj.setState({prod:rep.data,load:false,insert,del,role:payload.Role,nom:payload.Nom})\r\n\t \t\t\t\t})\r\n\t \t\t\t}\r\n\t \t\t}).catch(function(rep){ alert(\"erreur \"+rep+\" au niveau du serveur\") })\r\n\t \t}\r\n \t}\r\n \thandleInsert = (e) =>{\r\n \t\tthis.setState(state=>{ return {insertToggle:!state.insertToggle} });\r\n \t}\r\n \tinsertChange = (e,type) =>{\r\n\t\tlet ins = {...this.state.insertData};\r\n\t\tins[type] = e.target.value;\r\n \t\tthis.setState({insertData:ins})\r\n \t}\r\n \tinsertProd = () =>{\r\n \t\tlet jwt = sessionStorage.getItem('jwt');\r\n \t\tlet { insertData } = this.state;\r\n \t\tfetch(`http://127.0.0.1:8080/salhi_security/Controller/insert_delete.php?\r\n \t\ttoken=${jwt}&action=insert&Nom=${insertData.name}&Cout=${insertData.cost}&Prix=${insertData.price}`)\r\n \t\t.then(prm=>{ return prm.text().then(rep=>{ alert(rep); window.location.reload() }) }).catch(msg=>{ alert(msg) })\r\n \t}\r\n \tdeleteProd = line =>{\r\n \t\tlet jwt = sessionStorage.getItem('jwt'); \r\n \t\tlet params = Object.keys(line).reduce((acc,cur)=>{ return acc.concat(`&${cur}=${line[cur]}`) },\"\")\r\n \t\tfetch(\"http://127.0.0.1:8080/salhi_security/Controller/insert_delete.php?action=delete&token=\"+jwt+params)\r\n \t\t.then(prm=>{ return prm.text() }).then(rep=>{ alert(rep); window.location.reload() })\r\n \t\t.catch(msg=>{ alert(msg); })\r\n \t}\r\n\tlogout = ()=>{\r\n\t\talert(\"Déconnexion\");\r\n\t\treturn (<Redirect to=\"/\" />)\r\n\t}\r\n \trender(){\r\n\t\tlet { prod, auth, load, insert, del } = this.state;\r\n\t\tif(auth){\r\n\t\t\tlet exm = del ? [{label:'Supprimer',icon:'delete',fct:this.deleteProd}] : [];\r\n\t\t\treturn(\r\n\t\t\t\t<div>\r\n\t\t\t\t <div style={{display:'flex',justifyContent:'space-between',heigth:'300px'}}> \r\n\t\t\t\t \t<Typography variant=\"h5\" color=\"primary\" id=\"title\">\r\n\t\t\t\t \t {`Bonjour ${this.state.nom}, connecté en tant que ${this.state.role}`} \r\n\t\t\t\t \t</Typography>\r\n\t\t\t\t \t<Link to=\"/\"  style={{position:'fixed',top:'10px',right:'10px'}}> \r\n\t\t\t\t \t<Icon fontSize=\"large\" color=\"error\" onClick={e=>this.logout(e)}>\r\n\t\t\t\t \t power_settings_new\r\n\t\t\t\t \t</Icon>\r\n              \t\t</Link>\r\n \t\t\t\t</div>\r\n \t\t\t\t<br/><br/><br/>\r\n\t\t\t\t <ReactTab\r\n                 data={prod}\r\n                 examine={exm}\r\n                 filtre={{Nom:'text',Prix:'number'}}\r\n                 //labels={['Id','Article','Ventes','Manque','Disponible','Demandés']}\r\n                 table='Produits disponibles'\r\n                />\r\n\t\t\t\t <Button color=\"secondary\" onClick={e=>this.handleInsert(e)}>\r\n\t\t\t\t\tAjouter <Icon>add</Icon>\r\n\t\t\t\t </Button>\r\n\t\t\t\t<Dialog open={this.state.insertToggle}>\r\n\t\t\t\t\t<DialogContent style={{display:'flex',justifyContent:'space-between'}} >\r\n\t\t\t\t\t\t<label htmlFor=\"nom\"> Nom\r\n\t\t\t\t\t\t<input placeholder=\"Nom Produit\" type=\"text\" onChange={e=>this.insertChange(e,'name')} value={this.state.insertData.name}/>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<label htmlFor=\"cout\"> Cout\r\n\t\t\t\t\t\t<input type=\"text\" onChange={e=>this.insertChange(e,'cost')} value={this.state.insertData.cost}/>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<label htmlFor=\"prix\"> Prix\r\n\t\t\t\t\t\t<input type=\"text\" onChange={e=>this.insertChange(e,'price')} value={this.state.insertData.price}/>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t<Button onClick={this.insertProd} color=\"primary\">\r\n\t\t                  Valider <Icon> send </Icon>\r\n\t\t                </Button>\r\n\t\t                <Button onClick={this.handleInsert} color=\"secondary\">\r\n\t\t                  Annuler <Icon> clear </Icon>\r\n\t\t                </Button>\r\n\t\t\t\t\t</DialogActions>\r\n\t\t\t\t</Dialog>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\telse{\r\n\t\t\treturn (<Redirect to=\"/\" />)\r\n\t\t}\r\n \t}\r\n }","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { HashRouter, Route, Switch, Link } from 'react-router-dom';\nimport { createMuiTheme, MuiThemeProvider } from '@material-ui/core/styles';\nimport Login from './Login';\nimport Products from './Products';\nimport * as serviceWorker from './serviceWorker';\n\nconst Rout = ()=>( <Switch>\n    <Route path=\"/Salhi/:link\" component={App} />\n    <Route path=\"/Products\" component={Products} />\n    <Route path=\"/\" component={Login} />\n  </Switch>);\n\nReactDOM.render(\n    <HashRouter><MuiThemeProvider><Rout /></MuiThemeProvider></HashRouter>\n    , document.getElementById('root'));\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}